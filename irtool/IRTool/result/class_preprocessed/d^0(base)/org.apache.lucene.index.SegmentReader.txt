import java util iter org apach lucen index segment reader closeabl thread local field reader local field reader local closeabl thread local term vector local closeabl thread local map norm hash map class implement segment reader privat static class privat static class privat byte segment info return fals dir buffer index input true index reader segment info int boolean int return fals dir read buffer size open store term info index divisor boolean directori segment info int boolean int segment reader instanc tri reopen segment segment info boolean boolean segment reader clone tri tri commit commit null commit chang map norm dirti field reader return field reader field reader local close iter norm valu iter file return array list file field index reader field option set field set hash set creat fake norm int byte byte size array fill default similar encod norm return fake norm null return norm string norm norm norm norm field norm string byte null disabl fake norm set norm int string byte norm norm norm norm field norm string byte int norm norm norm norm field norm close iter norm valu iter norm close string norm norm norm norm field return norm ref count term vector reader term vector reader reader term vector reader term vector local start commit iter norm valu iter rollback commit iter norm valu iter onli segment reader directori return onli segment reader index reader open dir 